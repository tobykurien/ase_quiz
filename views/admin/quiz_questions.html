{{< ../base}}

   {{$header}}
      <link rel="import" href="{{rootPath}}/elements/data-table/data-table.html"/>
   {{/header}}

   {{$title}}ASE Quiz Admin{{/title}}

   {{$navbar}}{{> navbar_admin}}{{/navbar}}

   {{$content}}
      <h1>{{quiz.name}} questions</h1>
      
      <script>
        function quizAction(action, model) {
          if (action === "Answers") {
             location.href='{{rootPath}}/admin/answers/' + model.id;
          }
        }
      </script>
            
      <data-table model="question" params="quizId={{quiz.id}}" cols="id question points"
         actions="Answers" onAction="quizAction">      
         <template> <!-- Edit form template is the first child element -->
            <b>Question</b>
            <form>
              <div class="form-group">
                <label for="question_type_id">Question Type</label>
                <select id="question_type_id" value="[[m.question_type_id]]">
                    <option value="">Select type</option>
                    <option value="0">Multiple choice</option>
                    <option value="1">Short answer</option>
                </select>
              </div>
              
              <div class="form-group">
                <label for="question">Question</label>
                <input type="text" class="form-control" id="question" placeholder="Question" value="[[m.question]]">
              </div>

              <div class="form-group">
                <label for="points">Points</label>
                <input type="text" class="form-control" id="points" placeholder="Points" value="[[m.points]]">
              </div>

              <button on-click="[[cancel]]" class="btn">Cancel</button>
              <button on-click="[[submit]]" class="btn btn-default">Submit</button>
            </form>
         </template>
      </data-table>

   {{/content}}

{{/../base}}
